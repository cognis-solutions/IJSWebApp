<div class="card slidein-from-left">
  <div class="card-block">
    <div class="card">
      <div class="card-header card-default">


        <div class="row pagination-wrapper-top">
          <div class='col-md-10'>
            <p class="transport-contract-text">Job Order List</p>
          </div>
          <div class='col-md-10'>
            <button (click)="showCollapsedTableAll($event)" class="jo-maintinance-table-button collapse-all"><i class="fa fa-minus-square-o" aria-hidden="true"></i> Collapse All</button>
          </div>
          <div class='col-md-10'>
            <button (click)="showCollapsedTableAll($event)" class="jo-maintinance-table-button expend-all"><i class="fa fa-plus-square-o" aria-hidden="true"></i> Expand All</button>
          </div>
          <div class="col-md-20"></div>
          <div class='col-md-12'>
            <p><em>Sort in &nbsp;&nbsp;</em></p>
            <div class="pageSelected">
              <select (change)="onChangeOrderBy(filterDataSelectedComp.sortIn)" [(ngModel)]="filterDataSelectedComp['orderBy']">
                 <option *ngFor="let pageresult of filterData[2].data; let i = index" [value]= "pageresult.id" [selected]="filterDataSelectedComp.orderBy == pageresult.id">{{pageresult.text}}</option>
                </select>
            </div>
          </div>
          
          <div class="col-md-10">
            <button type="button" placement="left" class="btn filter-button" [ngbPopover]="popContent">
              <i class="fa fa-filter" aria-hidden="true"></i> Filter
            </button>
            <ng-template #popContent>
              <app-rcl-checkbox class="tool-tip-checkbox" label="Select All" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="SOC (12)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="COC (14)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Started (100)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Completed (40)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Cancelled (30)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Approved (30)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Waitlisted (30)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Entry (30)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              <app-rcl-checkbox class="tool-tip-checkbox" label="Issued (30)" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
              
              
            </ng-template>
          </div>
          <!--<div class='col-md-10'>
            <button>Filter</button>
          </div>-->
        </div>



        <div class="row">
          <div class="col-sm-72 text-right">
            <button class="jo-maintinance-table-button"><i class="fa fa-download" aria-hidden="true"></i> Download to Excel</button>
            <button class="jo-maintinance-table-button"><i class="fa fa-search" aria-hidden="true"></i> View Job Order</button>
          </div>
        </div>


        <div class="card-block" style="margin-top: 20px;">
          <div class="row">
            <div class="col-sm-1">
              <app-rcl-checkbox label="" #maintainjoseachTableCheckboxAll (rclCheckChanged)="maintainjoselectTableRowCheckBoxAll($event, row)"
                (click)="$event.stopPropagation()"></app-rcl-checkbox>
            </div>
            <div class="col-sm-14 text-center">
              <p class="jo-maintain-header-text">JobOrder Detail</p>
            </div>
            <div class="col-sm-14 text-center">
              <p class="jo-maintain-header-text">Vendor</p>
            </div>
            <div class="col-sm-20 text-center">
              <p class="jo-maintain-header-text">Transport Detail</p>
            </div>
            <div class="col-sm-12">
              <p class="jo-maintain-header-text">Amount Detail</p>
              <div class="row">
                <div class="jo-maintain-header-text" style="display: inline-block;     width: 40%;">Amount</div>
                <div class="jo-maintain-header-text" style="display: inline-block;     width: 60%;">Amount USD</div>
              </div>
            </div>
            <div class="col-sm-5"></div>
            <div class="col-sm-5 text-right">
              <p class="jo-maintain-header-text">Action</p>
            </div>
          </div>
        </div>

        <div *ngFor="let row of tableDataMaintainJoSearch" class="card-block" style='margin-bottom: 5px; max-height:500px; padding:0; overflow: auto; background-color: #eceeef;'>
          <div (click)='showCollapsedTable($event)' class="card collapse-button-row" style='margin-bottom: 0;'>
            <div class="card-block" style='padding-top:10px; padding-bottom:10px; padding-left:5px;'>
              <div class='row'>
                <div class='col-md-1'>
                  <app-rcl-checkbox label="" (rclCheckChanged)="maintainjoselectTableRowCheckBox($event, row)" (click)="$event.stopPropagation()"></app-rcl-checkbox>
                </div>
                <div class="col-sm-14">
                  <div class="row">
                    <div class="col-sm-72 text-center">
                      <h5>{{row.JoNumber}} <i class="fa fa-question-circle" aria-hidden="true" (click)="insertShowRclJoLog($event); $event.stopPropagation()"></i></h5></div>
                  </div>
                  <div class="row">
                    <div class="col-sm-35"><span class="jo-maintain-table-text">Order Date</span></div>
                    <div class="col-sm-35"><span class="jo-maintain-table-text">Approve Date</span></div>
                  </div>
                  <div class="row" style="background-color: #bde9fd;">
                    <div class="col-sm-35">{{row.orderDate}}</div>
                    <div class="col-sm-35">{{row.approveDate}}</div>
                  </div>
                  <div class="row">
                    <div class="col-sm-35"><span class="jo-maintain-table-text">Create By</span></div>
                    <div class="col-sm-35">{{row.createdBy}}</div>
                  </div>
                </div>
                <div class="col-sm-17">
                  <div class="row">
                    <div class="col-sm-72 text-center">
                      <h5>{{row.vendorID}}</h5>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-28"><span class="jo-maintain-table-text">Job Order Type</span></div>
                    <div class="col-sm-44"><span class="jo-maintain-table-text">Vendor name</span></div>
                  </div>
                  <div class="row">
                    <div class="col-sm-28">{{row.jobOrdType}}</div>
                    <div class="col-sm-44">{{row.vendorName}}</div>
                  </div>
                  <div class="row">
                    <div class="col-sm-24"><span class="jo-maintain-table-text">Detiail</span></div>
                    <div class="col-sm-15"><span class="coc-button">{{row.detailType}}</span></div>
                    <div class="col-sm-15"><span class="coc-button">{{row.detailVersion}}</span></div>
                  </div>
                </div>
                <div class="col-sm-18">
                  <div class="row">
                    <div class="col-sm-24">
                      {{row.fromLoaction}}
                    </div>
                    <div class="col-sm-24">
                      <span class="trans-mode-button">
                      Barge
                      </span>
                    </div>
                    <div class="col-sm-24">
                      {{row.toLoaction}}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-24">
                      <h5>{{row.fromTerminal}}</h5>
                    </div>
                    <div class="col-sm-24 arrow-block">
                    </div>
                    <div class="col-sm-24">
                      <h5>{{row.toTerminal}}</h5>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-24">
                      &#x25CF; {{row.fromTerminal}}
                    </div>
                    <div class="col-sm-24">
                    </div>
                    <div class="col-sm-24">
                      &#x25CF; {{row.toTerminal}}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-32" style="background-color: #0f3c49; color: #fff; border-radius: 5px;">
                      <div class="date-text">Start Date
                      </div>
                      <div class="date">{{row.startDate}}</div>
                    </div>
                    <div class="col-sm-8"></div>
                    <div class="col-sm-32" style="background-color: #0f3c49; color: #fff; border-radius: 5px;">
                      <div class="date-text">Complete Date
                      </div>
                      <div class="date">{{row.completeDate}}</div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-10">
                  <div class="row">
                    <div id=amountDiv class="col-sm-30">
                      <input value="{{row.amount}}" type="text" name="updateAmount" (click)="openAmountPopUp($event); $event.stopPropagation()" placeholder="Amount" title="{{row.amount}}" />
                    </div>
                    <div class="col-sm-40">{{row.amountUSD}}</div>
                  </div>
                  <div class="row">
                    <div class="col-sm-25"><span class="jo-maintain-table-text">Currency</span></div>
                    <div class="col-sm-45">{{row.currency}}</div>
                  </div>
                  <div class="row">
                    <div class="col-sm-25"><span class="jo-maintain-table-text">Routing</span></div>
                    <div class="col-sm-45">{{row.routingId}}</div>
                  </div>
                </div>
                <div class="col-sm-8">
                  <div class="row">
                    <div class="col-sm-36"><span class="jo-maintain-table-text">Status</span></div>
                    <div class="col-sm-36">{{row.status}}</div>
                  </div>
                  <div class="row">
                    <div class="col-sm-36"><span class="jo-maintain-table-text">FSC</span></div>
                    <div class="col-sm-36">{{row.FSC}}</div>
                  </div>
                </div>

                <div class="col-sm-2 text-center">
                  <div style="font-size: 25px;">
                    <i class="fa fa-pencil-square-o" (click)="openAmountPopUp($event); $event.stopPropagation()" aria-hidden="true"></i>
                  </div>
                  <div style="margin-top: 40px;font-size: 25px;">
                    <i class="fa fa-angle-up" aria-hidden="true" (click)="showCollapsedTable($event);$event.stopPropagation()"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="collapse-table collapse" style="padding-bottom: 0;">
            <div class='row'>
              <div class='col-md-72'>
                <div class="card">
                  <div *ngIf="row.contDetailJO" class="card-block" style="background-color: #516066;">
                    <ag-grid-angular style="width: 100%; height: 250px;" class="ag-dark" [gridOptions]="gridOptions2" [columnDefs]="columnDefs2"
                      (cellClicked)="agGridCellClicked($event)" [rowData]="row.contDetailJO" rowSelection="multiple">
                    </ag-grid-angular>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

     
      </div>
    </div>
  </div>
</div>

<div id="summaryAmountModal" class="uk-flex-top" uk-modal bg-close="false" esc-close="false">
  <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">
    <button class="uk-modal-close-default" type="button" (click)="resetPickDropModal($event)" uk-close></button>
    <div class="main-content">
      <p>Edit Amount</p>
      <div class="row">
        <div class="col-sm-30">
          <div class="row">
            <div class="col-sm-10"></div>
          </div>
          <div class="row">
            <div class="col-sm-20 text-center"><b>AMOUNT</b></div>
            <div class="col-sm-10"></div>
            <div class="col-sm-40">
              <app-rcl-input klass="form-control" compid="Amount" name="Amount" placeholder="" #rclinput="ngModel" [(ngModel)]="Amount">
              </app-rcl-input>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-10"></div>
          </div>
        </div>

      </div>
      <div class="row">
        <div class="col-sm-20"><button class="uk-button uk-button-default" (click)="hideAmountPopUp($event)">Cancel</button></div>
        <div class="col-sm-20"><button class="uk-button uk-button-primary" (click)="setAmountValue($event)">Update</button></div>
      </div>
      <div class="row" [hidden]="!showLocErrorText">
        <div class="col-sm-72 control-bottom-error">
          {{errorTextLookUp}}
        </div>
      </div>
    </div>
  </div>
</div>

<app-equipment-browser-lookup #joInquiryEquipmentBrowser (selectUpdateEqList)="updateEqDetails($event)"></app-equipment-browser-lookup>

<app-rcl-booking-bl-modal #rclBookingBL (selectUpdateRouteList)="openLookUpModal($event)"></app-rcl-booking-bl-modal>

<app-rcl-jo-log-modal #rclJoLog (selectUpdateRouteList)="openLookUpModal($event)"></app-rcl-jo-log-modal>